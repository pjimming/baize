(function(){"use strict";var e={3596:function(e,t,a){var o=a(9242),n=a(3396);function r(e,t,a,o,r,s){const i=(0,n.up)("NavBar"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),(0,n.Wm)(l)],64)}const s={class:"navbar navbar-expand-lg fixed-top bg-body-tertiary bg-primary","data-bs-theme":"dark"},i={class:"container-fluid"},l=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarNavDropdown"},u={class:"navbar-nav"},d={class:"nav-item"},p={class:"nav-item"},m=(0,n._)("li",{class:"nav-item dropdown"},[(0,n._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," 其他 "),(0,n._)("ul",{class:"dropdown-menu"},[(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"https://cv.pjmcode.top/"},[(0,n.Uk)("开发者信息 "),(0,n._)("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",class:"link-icon"},[(0,n._)("path",{fill:"currentColor",d:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794l-1.414-1.414L17.585 5H13V3h8z"})])])]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"https://github.com/pjimming/baize"},[(0,n.Uk)("开源代码 "),(0,n._)("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",class:"link-icon"},[(0,n._)("path",{fill:"currentColor",d:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794l-1.414-1.414L17.585 5H13V3h8z"})])])]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",href:"#"},"赞助")])])],-1);function g(e,t,a,o,r,g){const h=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",s,[(0,n._)("div",i,[(0,n.Wm)(h,{class:"navbar-brand",to:{name:"home"}},{default:(0,n.w5)((()=>[(0,n.Uk)("白泽")])),_:1}),l,(0,n._)("div",c,[(0,n._)("ul",u,[(0,n._)("li",d,[(0,n.Wm)(h,{class:"nav-link","aria-current":"page",to:{name:"home"}},{default:(0,n.w5)((()=>[(0,n.Uk)("首页")])),_:1})]),(0,n._)("li",p,[(0,n.Wm)(h,{class:"nav-link",to:{name:"about"}},{default:(0,n.w5)((()=>[(0,n.Uk)("关于白泽")])),_:1})]),m])])])])}var h={name:"NavBar"},f=a(89);const v=(0,f.Z)(h,[["render",g]]);var b=v;const w=(e,t)=>{let a=null;return function(){let o=this,n=arguments;clearTimeout(a),a=setTimeout((function(){e.apply(o,n)}),t)}},k=window.ResizeObserver;window.ResizeObserver=class extends k{constructor(e){e=w(e,16),super(e)}};var _={name:"app",components:{NavBar:b}};const j=(0,f.Z)(_,[["render",r]]);var P=j,y=a(2483);const I=(0,n._)("h3",null,"🛠golang项目包依赖可视化工具😼",-1),C=(0,n._)("hr",null,null,-1);function z(e,t,a,o,r,s){const i=(0,n.up)("InputVue"),l=(0,n.up)("ProjectInfo"),c=(0,n.up)("ListInfo"),u=(0,n.up)("Graph"),d=(0,n.up)("BackToTop"),p=(0,n.up)("ContentBase");return(0,n.wg)(),(0,n.j4)(p,null,{default:(0,n.w5)((()=>[I,C,(0,n.Wm)(i),(0,n.Wm)(l),(0,n.Wm)(c),(0,n.Wm)(u),(0,n.Wm)(d)])),_:1})}const L={class:"home"},N={class:"container"},W={class:"card"},F={class:"card-body"};function D(e,t,a,o,r,s){return(0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",N,[(0,n._)("div",W,[(0,n._)("div",F,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])])])])}var V={name:"ContentBase"};const x=(0,f.Z)(V,[["render",D],["__scopeId","data-v-0c4ac83c"]]);var B=x;const O={class:"input-group input-group-lg"},Z=(0,n._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"请输入项目的绝对路径",-1);function G(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("div",O,[Z,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"例如：/Users/panjiangming/Project/baize/backend","onUpdate:modelValue":t[0]||(t[0]=e=>s.inputValue=e)},null,512),[[o.nr,s.inputValue]]),(0,n._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>i.getModulePath&&i.getModulePath(...e))},"Submit")])}var M=a(65);const T={modulePath:"",dir:"",projectInfo:{modulePath:"",moduleName:"",moduleVersion:"",otherPkgList:[],otherPkgCount:0,projectPkgList:[],projectPkgCount:0,goFileList:[],goFileCount:0},graphData:{}};var $=(0,M.MT)({state:{...T},getters:{graphData(e){return e.graphData}},mutations:{resetState(e){Object.assign(e,T)},setModuleInfo(e,t){e.projectInfo.modulePath=t.modulePath,e.projectInfo.moduleName=t.moduleName,e.projectInfo.moduleVersion="go "+t.moduleVersion},setDir(e,t){e.dir=t},setPackages(e,t){e.projectInfo.otherPkgList=t.otherPkgList,e.projectInfo.otherPkgCount=t.otherPkgCount,e.projectInfo.projectPkgList=t.projectPkgList,e.projectInfo.projectPkgCount=t.projectPkgCount},setGoFiles(e,t){e.projectInfo.goFileList=t.goFileList,e.projectInfo.goFileCount=t.goFileCount},setModuleName(e,t){e.projectInfo.moduleName=t.moduleName},setProjectInfo(e,t){e.projectInfo.modulePath=e.modulePath,e.projectInfo.moduleName=t.moduleName,e.projectInfo.packageCount=t.packageCount,e.projectInfo.packageList=t.packageList},setGraphData(e,t){e.graphData=t,console.log("graph data",e.graphData)}},actions:{},modules:{}}),U=a(4161),q=a(7178);const R="http://localhost:5999/baize/v1",S=async e=>{try{const t=await U.Z.get(`${R}/local/module`,{params:e});if(200===t.status)return $.commit("setModuleInfo",t.data.result),await E(e),await H(e),await A(e),t.data.modulePath;throw new Error(`Request fail with status: ${t}`)}catch(t){"ERR_NETWORK"===t.code?(0,q.z8)({showClose:!0,message:"网络错误",type:"error"}):(0,q.z8)({showClose:!0,message:`${t.response.data.desc}`,type:"error"})}},E=async e=>{try{const t=await U.Z.get(`${R}/local/packages`,{params:e});if(200===t.status)return $.commit("setPackages",t.data.result),t.data;throw new Error(`Request fail with status: ${t.status}`)}catch(t){(0,q.z8)({showClose:!0,message:`${t.response.data.desc}`,type:"error"})}},H=async e=>{try{const t=await U.Z.get(`${R}/local/file`,{params:e});if(200===t.status)return $.commit("setGoFiles",t.data.result),t.data;throw new Error(`Request fail with status: ${t.status}`)}catch(t){(0,q.z8)({showClose:!0,message:`${t.response.data.desc}`,type:"error"})}},A=async e=>{try{const t=await U.Z.get(`${R}/local/graph`,{params:e});if(200!==t.status)throw new Error(`Request fail with status: ${t.status}`);$.commit("setGraphData",t.data.result)}catch(t){(0,q.z8)({showClose:!0,message:`${t.response.data.desc}`,type:"error"})}};var Y={name:"InputVue",data(){return{inputValue:""}},methods:{async getModulePath(){const e={dir:this.inputValue};$.commit("setDir",this.inputValue);try{await S(e)}catch(t){console.error(t.message)}}}};const K=(0,f.Z)(Y,[["render",G]]);var J=K,Q=a(7139);const X=e=>((0,n.dD)("data-v-48ab32f3"),e=e(),(0,n.Cn)(),e),ee={class:"container"},te=X((()=>(0,n._)("h5",null,"项目信息 / Project Info",-1)));function ae(e,t,a,o,r,s){const i=(0,n.up)("el-descriptions-item"),l=(0,n.up)("el-descriptions");return(0,n.wg)(),(0,n.iD)("div",ee,[te,(0,n.Wm)(l,{direction:"vertical",column:3,size:r.size,border:""},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{label:"模块名称 / Module Name"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Q.zw)(s.projectInfo.moduleName),1)])),_:1}),(0,n.Wm)(i,{label:"模块版本 / Module Version"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Q.zw)(s.projectInfo.moduleVersion),1)])),_:1}),(0,n.Wm)(i,{label:"Go文件数量 / Go File Count"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Q.zw)(s.projectInfo.goFileCount),1)])),_:1}),(0,n.Wm)(i,{label:"项目包数量 / Project Packages Count"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Q.zw)(s.projectInfo.projectPkgCount),1)])),_:1}),(0,n.Wm)(i,{label:"第三方包数量 / Other Packages Count"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Q.zw)(s.projectInfo.otherPkgCount),1)])),_:1})])),_:1},8,["size"])])}var oe={name:"ProjectInfo",data(){return{size:"large"}},computed:{projectInfo(){return this.$store.state.projectInfo}}};const ne=(0,f.Z)(oe,[["render",ae],["__scopeId","data-v-48ab32f3"]]);var re=ne;const se=e=>((0,n.dD)("data-v-5aedc18a"),e=e(),(0,n.Cn)(),e),ie={class:"container"},le=se((()=>(0,n._)("h5",null,"Go 文件列表 / Go File List",-1))),ce={class:"container"},ue=se((()=>(0,n._)("h5",null,"包列表 / Package List",-1))),de=se((()=>(0,n._)("h6",null,"工程包列表 / Project Package List",-1))),pe=se((()=>(0,n._)("h6",null,"外部包列表 / Other Package List",-1)));function me(e,t,a,o,r,s){const i=(0,n.up)("el-table-column"),l=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ie,[le,(0,n.Wm)(l,{data:s.pkgList.goFileList,stripe:"",border:"","max-height":"280",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{prop:"name",sortable:"",label:"文件名 / File Name",style:{width:"50%"}}),(0,n.Wm)(i,{prop:"size",sortable:"",label:"文件大小 / File Size"})])),_:1},8,["data"])]),(0,n._)("div",ce,[ue,de,(0,n.Wm)(l,{data:s.formattedProjectList,stripe:"",border:"","max-height":"280",style:{width:"100%","margin-bottom":"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{prop:"packageName",sortable:"",label:"包名 / Package Name"})])),_:1},8,["data"]),pe,(0,n.Wm)(l,{data:s.pkgList.otherPkgList,stripe:"",border:"","max-height":"280",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{prop:"name",sortable:"",label:"包名 / Package Name"}),(0,n.Wm)(i,{prop:"version",sortable:"",label:"包版本 / Package Version"})])),_:1},8,["data"])])],64)}var ge={name:"ListInfo",data(){return{size:"large"}},computed:{pkgList(){return this.$store.state.projectInfo},formattedProjectList(){return this.pkgList.projectPkgList.map((e=>({packageName:e})))}}};const he=(0,f.Z)(ge,[["render",me],["__scopeId","data-v-5aedc18a"]]);var fe=he;function ve(e,t,a,o,r,s){const i=(0,n.up)("el-backtop");return(0,n.wg)(),(0,n.j4)(i,{right:100,bottom:100})}var be={name:"BackToTop"};const we=(0,f.Z)(be,[["render",ve]]);var ke=we;const _e=e=>((0,n.dD)("data-v-1a4a4ccf"),e=e(),(0,n.Cn)(),e),je={class:"container"},Pe=_e((()=>(0,n._)("h3",null,"包依赖关系图 / Package Dependency Graph",-1))),ye=_e((()=>(0,n._)("div",{id:"mountNode"},null,-1))),Ie=[Pe,ye];function Ce(e,t,a,o,r,s){return(0,n.wg)(),(0,n.iD)("div",je,Ie)}var ze=a(3865),Le={name:"LocalGraph",computed:{...(0,M.Se)(["graphData"])},watch:{graphData:{handler(e){this.destroyGraph(),this.renderGraph(e)},deep:!1}},methods:{renderGraph(e){const t=document.getElementById("mountNode"),a=t.scrollWidth,o=t.scrollHeight||400;this.graph=new ze.ZP.Graph({container:"mountNode",width:a,height:o,fitView:!0,modes:{default:["zoom-canvas","drag-canvas","drag-node","activate-relations"]},layout:{type:"dagre",rankdir:"LR",align:"UL",controlPoints:!0,nodesepFunc:()=>1,ranksepFunc:()=>1},animate:!0,defaultNode:{type:"rect",size:[280,30],style:{lineWidth:2,stroke:"#5B8FF9",fill:"#C6E5FF"},labelCfg:{style:{fill:"#000",fontSize:10}}},defaultEdge:{type:"polyline",size:2,color:"#000",style:{endArrow:{path:"M 0,0 L 8,4 L 8,-4 Z",fill:"#e2e2e2"},radius:20}}}),this.graph.data(e),this.graph.render()},destroyGraph(){this.graph&&(this.graph.destroy(),this.graph=null)}},mounted(){this.renderGraph(this.graphData)}};const Ne=(0,f.Z)(Le,[["render",Ce],["__scopeId","data-v-1a4a4ccf"]]);var We=Ne,Fe={name:"HomeView",components:{ContentBase:B,InputVue:J,ProjectInfo:re,ListInfo:fe,BackToTop:ke,Graph:We}};const De=(0,f.Z)(Fe,[["render",z]]);var Ve=De;function xe(e,t,a,o,r,s){const i=(0,n.up)("AboutBaize"),l=(0,n.up)("ContentBase");return(0,n.wg)(),(0,n.j4)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i)])),_:1})}var Be=a.p+"img/logo.ad481cf2.png";const Oe=(0,n.uE)('<figure class="text-center"><blockquote class="blockquote h1"><p>东望山有兽，名曰白泽，能言语。王者有德，明照幽远则至。</p></blockquote><figcaption class="blockquote-footer"><cite title="Source Title">《山海经》</cite></figcaption><p>白泽，中国古代神话中的瑞兽。能言语，通万物之情，知鬼神之事，“王者有德”才出现，能辟除人间一切邪气。</p><p>我希望能够清晰的获取当前golang项目的包依赖关系，开发了这个工具，名为白泽。</p><p>作为一名后端研发工程师，我的前端功力显然是不够强大。在使用过程中如果给您带来不便，请见谅。</p></figure><h5>如果你：</h5><ul class="list-group"><li class="list-group-item"> 对这个工具有改进意见，欢迎点击 <a href="https://github.com/pjimming/baize/issues/new" target="_blank" rel="noopener noreferrer"> issue </a> ，提出您的宝贵意见。 </li><li class="list-group-item"> 有更好的解决方案，请点击 <a href="https://github.com/pjimming/baize/compare" target="_blank"> pull request </a> ，提交您的实现！ </li></ul><figure class="text-center"><img class="img-fluid rounded" src="'+Be+'"></figure>',4);function Ze(e,t,a,o,n,r){return Oe}var Ge={name:"AboutBaize"};const Me=(0,f.Z)(Ge,[["render",Ze]]);var Te=Me,$e={name:"AboutView",components:{ContentBase:B,AboutBaize:Te}};const Ue=(0,f.Z)($e,[["render",xe]]);var qe=Ue;function Re(e,t,a,o,r,s){const i=(0,n.up)("PageNotFound",!0),l=(0,n.up)("ContentBase");return(0,n.wg)(),(0,n.j4)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i)])),_:1})}const Se=(0,n._)("figure",{class:"text-center"},[(0,n._)("blockquote",{class:"blockquote h1"},[(0,n._)("h3",null,"天呐🙀，页面📃被外星人👽的UFO🛸击落了，😵")]),(0,n._)("figcaption",{class:"blockquote-footer"},[(0,n._)("cite",{title:"Source Title"},"404 | Page Not Found")])],-1),Ee=["src"];function He(e,t,a,o,r,s){return(0,n.wg)(),(0,n.iD)("div",null,[Se,(0,n._)("img",{class:"img-fluid rounded",src:r.pageNotFoundImg},null,8,Ee)])}var Ae=a.p+"img/404.acdd2e01.png",Ye={name:"PageNotFound",data(){return{pageNotFoundImg:Ae}}};const Ke=(0,f.Z)(Ye,[["render",He]]);var Je=Ke,Qe={name:"PageNotFoundView",components:{ContentBase:B,PageNotFound:Je}};const Xe=(0,f.Z)(Qe,[["render",Re]]);var et=Xe;const tt=[{path:"/",name:"home",component:Ve},{path:"/about",name:"about",component:qe},{path:"/404",name:"404",component:et},{path:"/:catchAll(.*)",redirect:()=>({path:"/404"})}],at=(0,y.p7)({history:(0,y.r5)(),routes:tt,linkActiveClass:"active"});var ot=at,nt=(a(5654),a(8458)),rt=(a(4415),a(2748));const st=(0,o.ri)(P);for(let it in rt)st.component(it,rt[it]);st.use($).use(ot).use(nt.Z).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,r){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],r=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,s=o[0],i=o[1],l=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(t&&t(o);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},o=self["webpackChunkbaize"]=self["webpackChunkbaize"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3596)}));o=a.O(o)})();
//# sourceMappingURL=app.03715467.js.map